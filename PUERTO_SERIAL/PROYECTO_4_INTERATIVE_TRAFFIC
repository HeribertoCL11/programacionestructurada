int carRed = 12; // assign the car lights
int carYellow = 11;
int carGreen = 10;
int pedRed = 9; // assign the pedestrian lights
int pedGreen = 8;
int button = 2; // button pin
int crossTime = 5000; // time allowed to cross
unsigned long changeTime; // time since button pressed
void setup() {
pinMode(carRed, OUTPUT);
pinMode(carYellow, OUTPUT);
pinMode(carGreen, OUTPUT);
pinMode(pedRed, OUTPUT);
pinMode(pedGreen, OUTPUT);
pinMode(button, INPUT); // button on pin 2
// turn on the green light
digitalWrite(carGreen, HIGH);
digitalWrite(pedRed, HIGH);
}
void loop() {
int state = digitalRead(button);


if (state == HIGH && (millis() - changeTime) > 5000) {

void changeLights() {
digitalWrite(carGreen, LOW); 
digitalWrite(carYellow, HIGH); 
delay(2000); 
digitalWrite(carYellow, LOW); 
digitalWrite(carRed, HIGH); 
delay(1000); 
digitalWrite(pedRed, LOW); 
digitalWrite(pedGreen, HIGH); 
delay(crossTime); 

for (int x=0; x<10; x++) {
digitalWrite(pedGreen, HIGH);
delay(250);
digitalWrite(pedGreen, LOW);
delay(250);
}

digitalWrite(pedRed, HIGH);
delay(500);
digitalWrite(carYellow, HIGH); 
digitalWrite(carRed, LOW); 
delay(1000);
digitalWrite(carGreen, HIGH);
digitalWrite(carYellow, LOW); 
changeTime = millis();

}